<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title th:text="${themNhanVien}"></title>
<head th:replace="admin/layout :: head">
</head>

<body class="hold-transition sidebar-mini layout-fixed">
	<div class="wrapper">
		<nav th:replace="admin/layout :: header"></nav>
		<aside th:replace="admin/layout :: menu"></aside>
		<div class="content-wrapper">
			<form id="second_form" th:action="@{/quantri/addNhanVien}" method="post"
				enctype="multipart/form-data">
				<h3 class="modal-title">Thêm nhân viên</h3>
				<div class="form-row">
					<div class="form-group col-md-4">
						<label for="hodem">Họ đệm:</label> <input type="text"
							class="form-control" id="hodem" th:name="hodem">
					</div>
					<div class="form-group col-md-4">
						<label for="ten">Tên:</label> <input type="text"
							class="form-control" id="ten" th:name="ten">
					</div>
					<div class="form-group col-md-4">
						<label for="file">Ảnh nhân viên:</label> <input type="file"
							id="myFile" th:name="file" />
					</div>
				</div>
				<div class="form-row">
					<div class="form-group col-md-4">
						<label for="ngaysinh">Ngày sinh:</label> <input type="date"
							class="form-control" id="ngaysinh" th:name="ngaysinh">
					</div>
					<div class="form-group col-md-4">
						<label for="">Giới tính</label> <input type="radio"
							th:name="gioitinh" id="gioitinh" value="1"> <label
							class="radio-inline" for="nam">Nam</label> <input type="radio"
							th:name="gioitinh" id="gioitinh" value="2"> <label
							class="radio-inline" for="nu">Nữ</label>
					</div>
					<div class="form-group col-md-4">
						<img id="myImage" style="border: 1px; width: 100px; height: 100px" />
					</div>
				</div>
				<div class="form-group">
					<label for="noisinh">Nơi sinh:</label> <input type="text"
						class="form-control" id="noisinh" th:name="noisinh" />
				</div>
				<div class="form-group">
					<label for="diachihientai">Địa chỉ hiện tại:</label> <input
						type="text" class="form-control" id="diachihientai"
						th:name="diachihientai" />
				</div>

				<div class="form-group">
					<label for="diachithuongchu">Địa chỉ thường trú:</label> <input
						type="text" class="form-control" id="diachithuongchu"
						th:name="diachithuongchu" />
				</div>
				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="quoctich">Quốc tịch:</label> <input type="text"
							class="form-control" id="quoctich" th:name="quoctich" />
					</div>
					<div class="form-group col-md-6">
						<label for="sodienthoai">Số điện thoại:</label> <input type="text"
							class="form-control" id="sodienthoai" th:name="sodienthoai" />
					</div>
				</div>
				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="email">Email:</label> <input type="text"
							class="form-control" id="email" th:name="email">
					</div>

					<div class="form-group col-md-6">
						<label for="chungminhnhandan">Số chứng minh nhân dân:</label> <input
							type="number" class="form-control" id="chungminhnhandan"
							th:name="chungminhnhandan">
					</div>
				</div>
				<div class="form-group">
					<label for="thongtin">Nơi cấp:</label> <input type="text"
						class="form-control" id="noicap" th:name="noicap">
				</div>
				<div class="form-row">
					<div class="form-group col-md-4">
						<label for="chucvu">Chức vụ</label> <select class="form-control"
							id="chucvu" th:name="chucvu">
							<option value="">Chức vụ...</option>
							<option th:each="chucVu : ${chucVu}" th:value="${chucVu.id}"
								th:utext="${chucVu.tenchucdanh}"></option>
						</select>
					</div>
					<div class="form-group col-md-4">
						<label for="phongbanId">Phòng ban</label> <select
							class="form-control" id="phongban" th:name="phongban">
							<option value="">Phòng ban...</option>
							<option th:each="phongBan : ${phongBan}"
								th:value="${phongBan.id}" th:utext="${phongBan.tenphongban}"></option>
						</select>
					</div>
					<div class="form-group col-md-4">
						<label for="trinhdohocvan">Học vấn</label> <select
							class="form-control" id="trinhdohocvan" th:name="trinhdohocvan">
							<option value="">Học vấn...</option>
							<option th:each="trinhDo : ${trinhDo}" th:value="${trinhDo.id}"
								th:utext="${trinhDo.tentrinhdo}"></option>
						</select>
					</div>
				</div>
				<div class="form-row">
					<div class="form-group col-md-4">
						<label for="trinhdohocvan">Chuyên ngành</label> <select
							class="form-control" id="chuyennganh" th:name="chuyennganh">
							<option value="">Chuyên ngành...</option>
							<option th:each="chuyenNganh : ${chuyenNganh}"
								th:value="${chuyenNganh.id}"
								th:utext="${chuyenNganh.tenchuyennganh}"></option>
						</select>
					</div>

					<div class="form-group col-md-4">
						<label for="trinhdohocvan">Dân tộc</label> <select
							class="form-control" id="dantoc" th:name="dantoc">
							<option value="">Dân tộc...</option>
							<option th:each="danToc : ${danToc}" th:value="${danToc.id}"
								th:utext="${danToc.tendantoc}"></option>
						</select>
					</div>

					<div class="form-group col-md-4">
						<label for="trinhdohocvan">Tình trạng hôn nhân</label> <select
							class="form-control" id="tinhtranghonnhan"
							th:name="tinhtranghonnhan">
							<option value="">Tình trạng hôn nhân...</option>
							<option th:each="tinhTrangHonNhan : ${tinhTrangHonNhan}"
								th:value="${tinhTrangHonNhan.id}"
								th:utext="${tinhTrangHonNhan.tentinhtranghonnhan}"></option>
						</select>
					</div>
				</div>
				<div class="form-row">
					<div class="form-group col-md-4">
						<label for="trinhdohocvan">Tôn giáo</label> <select
							class="form-control" id="tongiao" th:name="tongiao">
							<option value="">Tôn giáo...</option>
							<option th:each="tonGiao : ${tonGiao}" th:value="${tonGiao.id}"
								th:utext="${tonGiao.tentongiao}"></option>
						</select>
					</div>
				</div>

				<div class="form-group">
					<label for="ghichu">Ghi chú</label> <input type="text"
						class="form-control" th:name="ghichu">
				</div>
				<button type="submit" class="btn btn-primary">Thêm mới</button>
				<input type="reset" class="btn btn-danger" value="Reset" />
			</form>
			<script>
  $('#second_form').validate({
	  rules: { 
		  sodienthoai: {
			  required: true,
		        minlength:10,
		        maxlength:10
		},
		hodem: {
		      required: true
		},
		ten: {
		      required: true
	    },
	    diachihientai: {
		      required: true
	    },
	    diachithuongchu: {
		      required: true
	    },
	    noisinh: {
		      required: true
	    },
		quoctich: {
		      required: true
	    },
	    ngaysinh: {
		      required: true
	    },
	    chungminhnhandan: {
		      required: true,
		        minlength:10,
		        maxlength:10
	    },
	    noicap: {
		      required: true
	    },
	    email: {
		      required: true,
		      email: true
	    },
	    chucvu: {
		      required: true
	    },
	    phongban: {
		      required: true
	    },
	    chuyennganh: {
		      required: true
	    },
	    tinhtranghonnhan: {
		      required: true
	    },
	    tongiao: {
		      required: true
	    },
	    dantoc: {
		      required: true
	    },
	    trinhdohocvan: {
		      required: true
	    }
	  },
	  messages: {
		  sodienthoai: {
			  required: 'Yêu cầu nhập số điện thoại',
		        minlength:'Điện thoại gồm 10 chữ số',
		        maxlength:'Điện thoại gồm 10 chữ số'
		},
			hodem: {
			      required: 'Yêu cầu nhập đầy đủ họ đệm'
			},
			ten: {
			      required: 'Yêu cầu nhập tên'
		    },
		    diachihientai: {
			      required: 'Yêu cầu nhập địa chỉ hiện tại'
		    },
		    diachithuongchu: {
			      required: 'Yêu cầu nhập địa chỉ thường chú'
		    },
		    noisinh: {
			      required: 'Yêu cầu nhập nơi sinh'
		    },
			quoctich: {
			      required: 'Yêu cầu nhập quốc tịch'
		    },
		    ngaysinh: {
			      required: 'Yêu cầu nhập ngày sinh'
		    },
		    chungminhnhandan: {
			      required: 'Yêu cầu nhập số chứng minh nhân dân',
			        minlength:'Chứng minh nhân dân gồm 10 chữ số',
			        maxlength:'Chứng minh nhân dân gồm 10 chữ số'
		    },
		    noicap: {
			      required: 'Yêu cầu nhập nơi cấp'
		    },
		    email: {
			      required: 'Yêu cầu nhập Email',
			      email: 'Yêu cầu nhập đúng định dạng Email'
		    },
		    chucvu: {
			      required: 'Yêu cầu chọn chức vụ'
		    },
		    phongban: {
			      required: 'Yêu cầu chọn phòng ban'
		    },
		    chuyennganh: {
			      required: 'Yêu cầu chọn chuyên ngành'
		    },
		    tinhtranghonnhan: {
			      required: 'Yêu cầu chọn tình trạng hôn nhân'
		    },
		    tongiao: {
			      required: 'Yêu cầu chọn tôn giáo'
		    },
		    dantoc: {
			      required: 'Yêu cầu chọn dân tộc'
		    },
		    trinhdohocvan: {
			      required: 'Yêu cầu chọn trình độ học vấn'
		    }
	  },
	  submitHandler: function(form) {
	    form.submit();
	  }
	});
</script>
			<script>
var canvas = document.createElement("canvas");
var ctx = canvas.getContext("2d");
var imageData;
document.getElementById('myFile').onchange = function (evt) {
    var tgt = evt.target || window.event.srcElement,
        files = tgt.files;

    // FileReader support
    if (FileReader && files && files.length) {
        var fr = new FileReader();
        fr.onload = () => showImage(fr);
        fr.readAsDataURL(files[0]);
    }
}

function showImage(fileReader) {
    var img = document.getElementById("myImage");
    img.onload = () => getImageData(img);
    img.src = fileReader.result;
}

function getImageData(img) {
    ctx.drawImage(img, 0, 0);
    imageData = ctx.getImageData(0, 0, img.width, img.height).data;
    console.log("image data:", imageData);
}
</script>
		</div>
		<footer th:replace="admin/layout :: footer"></footer>
		<aside class="control-sidebar control-sidebar-dark"></aside>
	</div>
</body>
</html>
